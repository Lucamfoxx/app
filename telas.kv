<SplashScreen>:
    name: 'splash'
    MDFloatLayout:
        LineGraphWidget:
            id: graph_layout


        Image:
            source: "images/logo.png"
            size_hint: 0.6, 0.6
            pos_hint: {"center_x": 0.5, "center_y": 0.75}

        MDTextField:
            id: search_input
            hint_text: "Ações/Empresas"
            helper_text_mode: "persistent"
            helper_text_color: [1,1,1, 1]
            size_hint_x: 0.8
            font_name: "GraphikCompact-Medium-Trial.otf"
            pos_hint: {"center_x": 0.5, "center_y": 0.35}
            theme_text_color: "Custom"
            text_color: [1, 1, 1, 1]
            mode: "rectangle"
            hint_text_color_normal: [1,1,1,0.1] 
            hint_text_color_focus:[1,1,1,0.5]
            line_color_focus: [49/255, 26/255, 74/255, 1] 
            line_color_normal: [49/255, 26/255, 74/255, 1] 
            text_color_focus: "blue"

            # Adicionando o evento on_text_validate
            on_text_validate:
                app.search_company(search_input.text)

        MDLabel:
            text: "YouFin"
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            halign: "center"
            theme_text_color: "Custom"
            text_color: [1, 1, 1, 1]
            font_size: self.width * 0.12
            font_name: "GraphikCompact-Medium-Trial.otf"

        # Remova o MDTextButton de Pesquisar

        MDLabel:
            text: "Monitore suas ações."
            pos_hint: {"center_x": 0.5, "center_y": 0.45}
            halign: "center"
            theme_text_color: "Custom"
            text_color: [1, 1, 1, 0.5]
            font_size: self.width * 0.0350

        Image:
            source: "images/estrela.png"
            size_hint: None, None
            size: dp(90), dp(90)
            pos_hint: {"right": 0.99, "top": 0.99}

            on_touch_down:
                app.favoritos() if self.collide_point(*args[1].pos) else None


<SecondScreen>:
    name: 'second'
    MDFloatLayout:
        LineGraphWidget:
            id: graph_layout



        Image:
            id: logo_image
            source: root.ids.logo_image.source
            size_hint: 0.18, 0.18
            allow_stretch: True
            keep_ratio: True
            pos_hint: {"center_x": 0.2, "center_y": 0.84}

        MDBoxLayout:
            orientation: 'vertical'
            size_hint: 1, 0.15
            pos_hint: {"center_x": 0.5, "center_y": 1}
            spacing: dp(10)
            padding: dp(20)
            md_bg_color: [1, 1, 1, 0.05]


        MDLabel:
            id: simbolo_label
            pos_hint: {"center_x": 0.2, "center_y": 0.74}
            font_size: self.width * 0.05
            halign: "center"
            theme_text_color: "Custom"
            text_color: [1, 1, 1, 0.8]
            font_name:"GraphikCompact-Medium-Trial.otf"

        MDLabel:
            id: nome_label
            size_hint: (0.8, 0.1)
            font_size: self.width * 0.07
            pos_hint: {"center_x": 0.5, "center_y": 0.95}
            halign: "center"
            theme_text_color: "Custom"
            text_color: [1, 1, 1, 1]
            bold: True
            font_name: "GraphikCompact-Medium-Trial.otf"

        MDLabel:
            id: cotacao_label
            font_size: self.width * 0.09
            pos_hint: {"center_x": 0.89, "center_y": 0.85}
            halign: "left"
            theme_text_color: "Custom"
            text_color: [0, 1, 0, 1]
            bold: True

        MDLabel:
            id: preco_anterior_label
            font_size: self.width * 0.025
            pos_hint: {"center_x": 0.40, "center_y": 0.726}
            halign: "right"
            theme_text_color: "Custom"
            text_color: 'green'




        MDLabel:
            id: volume_label
            font_size: self.width * 0.025
            pos_hint: {"center_x": 0.40, "center_y": 0.70}
            halign: "right"
            theme_text_color: "Custom"
            text_color: [1, 1, 1, 1]


        Image:
            source: "images/esquerda.png"
            size_hint: None, None
            size: dp(60), dp(60)
            pos_hint: {"left": 0.99, "top": 0.99}

            on_touch_down:
                root.manager.current = 'splash' if self.collide_point(*args[1].pos) else None


        MDBoxLayout:
            orientation: 'vertical'
            size_hint: 0.8, 0.5
            pos_hint: {"center_x": 0.485, "center_y": 0.4}
            spacing: dp(10)
            padding: dp(20)
            # Adicionando um layout para o gráfico
            id: graph_layout

        Image:
            id: add_button
            source: "images/add.png"
            size_hint: 0.08, 0.08
            pos_hint: {"right": 0.90, "top": 0.85}
            allow_stretch: True
            keep_ratio: True
            
            on_touch_down:
                app.botao_add_clicado() if self.collide_point(*args[1].pos) else None

        Image:
            source: "images/estrela.png"
            size_hint: None, None
            size: dp(90), dp(90)
            pos_hint: {"right": 0.99, "top": 0.99}

            on_touch_down:
                app.favoritos() if self.collide_point(*args[1].pos) else None
        MDLabel:
            id: aviso_label
            size_hint: (0.8, 0.1)
            font_size: self.width * 0.02
            pos_hint: {"center_x": 0.5, "center_y": 0.7}
            halign: "center"
            theme_text_color: "Custom"
            text_color: "green"
            bold: True
            font_name: "GraphikCompact-Medium-Trial.otf"



<ThirdScreen>:
    name: 'third'
    MDFloatLayout:
        LineGraphWidget:
            id: graph_layout

        MDLabel:
            text: "Favoritos"
            pos_hint: {"center_x": 0.50, "center_y": 0.90}
            halign: "center"
            font_name: "GraphikCompact-Medium-Trial.otf"
            theme_text_color: "Custom"
            text_color: [1, 1, 1, 1]
            font_size: dp(40)

        MDScrollView:
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            size_hint: 0.8, 0.6  # Ajuste o tamanho conforme necessário

            MDList:
                id: lista_layout
                
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 0.1  # Branco com opacidade 0.1
                    Rectangle:
                        pos: self.pos
                        size: self.size

        Image:
            source: "images/esquerda.png"
            size_hint: None, None
            size: dp(60), dp(60)
            pos_hint: {"left": 0.99, "top": 0.99}

            on_touch_down:
                root.manager.current = 'splash' if self.collide_point(*args[1].pos) else None
